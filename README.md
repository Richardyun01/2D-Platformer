# 2D-Platformer
- 2D-Platformer project for 2024 CIEN tutorial 2024.07 ~ 2024.08 
- 개발 노트: https://www.notion.so/824b43e110874251adcacf3042a255a3?v=277d33da217744a49c333ea9d17a2e35&p=a5f1ba6ef54f4fec91e88482c6c7f379&pm=s

## 초기 베이스
- 유니티 2D 플랫포머 튜토리얼을 베이스로 개발
- 베이스가 된 시스템: 플레이어 물리 엔진/Scene 기초 설정/인게임 UI
<img src="https://github.com/user-attachments/assets/1fb7932c-9f56-42c3-bda5-442e72738450" width="680" height="415"/>
<img src="https://github.com/user-attachments/assets/6b3a194b-c168-41d3-91c1-3a7fca216c3e" width="680" height="415"/>

## 기초 개발
- 플레이어 물리 엔진 개선
- Scene에 적용할 기본 시스템(2단 점프, 상하 이동 플랫폼, 상호작용 시스템, 이동 키 교체) 개발
  - 2단 점프
    - 기존의 플레이어 물리 엔진에 좌표 이동 코드를 추가하여 개발
    - 개발 시점에서는 사용하지 않았지만 차후 사용이 가능하도록 함
  <img src="https://github.com/user-attachments/assets/0c9948c2-7158-4b20-b4ad-e9842b17a2be" width="540" height="360"/>
  
  - 상하 이동 플랫폼
    -  충돌 부분을 중심으로 상하로 이동하기 때문에 걸치면 자동으로 올라가는 버그가 존재하지만 당시에는 해결하지 못함
  <img src="https://github.com/user-attachments/assets/85df325a-3bd5-4541-871f-653369bedba7" width="540" height="360"/>
  
  - 상호작용 시스템
    - 아이템 획득/오브젝트 상호작용/커스텀 이벤트 트리거로서 개발
    - e버튼을 누를 시 작동
    - 결과적으로 커스텀 이벤트 트리거로서만 사용, 다른 기능은 사용하지 못함
  <img src="https://github.com/user-attachments/assets/91eb94b2-88f0-4ecf-a30d-9f1786f51263" width="540" height="360"/>

  - 발사 시스템
    - 플레이어가 총알을 발사, 적과의 상호작용은 이후에 추가

## 베이스 개발
- 제공받은 타일을 기반으로 맵 제작
  
- 플레이어의 움직임을 따라갈 수 있도록 카메라 조작
  
- 각 스테이지에 해당하는 씬 다수 준비
  
- 제공받은 아트로 맵 내의 배경 설정
  - 고정 배경과 무한 이동식 배경을 제작함
  - 결과적으로 고정 배경만 사용, 이동식 배경은 이후 제공된 기획에 따라 사용되지 않음

## 시스템 개발
- 메인 게임 컨트롤러: 게임 정지/게임 오버 UI를 관리

- 플레이어의 체력 및 공격
  - 체력
  - 공격
    
- 맵에 배치되어야 하는 적 제작
  - 근접 적
    - 패턴: 일정 구간을 순찰하다가 플레이어를 발견 시 추적, 추적 거리에서 벗어나면 원위치로 돌아옴
    - 특성: 모든 적 AI들의 기초
  - 원거리 적
    - 패턴: 지점에서 대기하다 플레이어를 발견 시 사격 및 추적
    - 특성: 근접 적 AI를 개조
  - 보스1
    - 패턴: 근접 적과 동일
    - 특성: 일반 적보다 크기, Collider, 기타 스탯을 키움
  - 보스2
    - 패턴: 공중을 비행하며 플레이어를 향해 사격
    - 특성: 오브젝트의 y좌표를 고정, 연발 사격 구현
  - 보스3
    - 패턴: 제자리에서 정지, 매우 먼 거리에서 플레이어를 향해 사격, 주기적으로 적 소환
    - 특성: 적 생성 장치 구현 및 보스와 연결, 보스 처치 시 클리어 화면, 생성 장치도 같이 비활성화되어야 함
  - 적과 접촉 시: 일정 거리를 뒤로 밀려나야 함
    
- 기획에 따라 게임 내의 기믹 제작
  - 레버-문 시스템
    - 상호작용 시 커스텀 이벤트를 발동
  - 텔레포터 시스템
    - 상호작용 시 플레이어의 위치 좌표를 이동
  - 접촉 시 피해를 받는 타일
    - 플레이어가 접촉 시 일정량의 피해를 받음
  - 적 카운터-문 시스템
    - 연결된 적을 관리하여 해당 적들을 모두 처치 시 커스텀 이벤트를 발동
  - 압력판 시스템
    - 압력판 1: 압력판 위에 플레이어 또는 블록이 존재 시 이벤트 발동, 없을 경우 이벤트 취소
    - 압력판 2: 압력판 위에 플레이어 존재 시 이벤트 발동
  - 이벤트 트리거식 영역
    - 플레이어가 접근 시 위에서 적이 생성되어 떨어지도록 구상함
    - 제작된 것은 기존의 시스템을 재활용하여 미리 준비된 적이 떨어지도록 함
    - 이후 영역 접근 시 BGS이 재생되도록 확대됨
  - 게임 클리어 이벤트
    - 대상 오브젝트에 접촉 시 게임 클리어 UI가 발생해야 함
    - 게임 클리어 시 해당 Scene 내 실행중인 모든 오브젝트가 작동을 중지해야 함
    - 게임 클리어 시 다음 스테이지가 개방되어야 함
   
- 아이템 시스템
  - 초기 기획은 신체의 각 부위 파츠와 다양한 무기를 장착하고 사용할 수 있도록 했음
  - 중간에 소수의 무기 및 기믹 파츠를 장착할 수 있도록 축소
  - 시간 부족으로 3개의 패시브 파츠만 구현됨

## UI 개발
- 인게임 외부 UI
  - 타이틀
    - Scene을 이동해도 외부 UI에 한정해서 BGM의 지속 재생
  - 메인 메뉴 및 스테이지 선택
    - 스테이지 잠금/해제 기능: 버튼의 기본 상태는 잠금, 각 스테이지 Scene마다 고유 ID를 부여해서 버튼 상태와 연결함
    - 버튼 입력 시 소리: Scene의 전환으로 인해 부여한 오디오가 재생되지 않은 것으로 보이나 이 문제는 시간 문제로 우선순위가 밀려 해결해지 못하였음
    
- 인게임 내부 UI
  - 일시정지 기본 구성
    - 인터페이스(조작 키, 장비, 스테이터스, 크레딧), 버튼(메인 메뉴, 장비, 스테이터스, 크레딧)으로 구성
    - 장비, 스테이터스, 크레딧은 연결됨
    - 조작 키 인터페이스는 기본 화면, 메인 메뉴 버튼은 메뉴로 연결되어 상호 접점은 없음
  - 장비
  - 스테이터스

## 마무리 및 디버그

## 기타
- 프리팹을 적극적으로 사용하지 않은 것을 후회(개발 시간을 크게 단축시킬 수 있었음)
